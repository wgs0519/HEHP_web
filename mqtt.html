<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MQTT 배경지식 - HEHP</title>
    <style>
        /* Global Styles */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #fff;
            color: #333;
        }

        header {
            background-color: #007BFF;
            color: #fff;
            padding: 10px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header .logo {
            font-size: 28px;
            font-weight: bold;
        }

        header .subtext {
            font-size: 14px;
        }

        nav ul {
            list-style-type: none;
            padding: 0;
            margin: 10px 0;
            text-align: center;
        }

        nav ul li {
            display: inline;
            margin-right: 20px;
        }

        nav ul li a {
            text-decoration: none;
            color: #fff;
            font-size: 16px;
        }

        nav ul li a:hover {
            text-decoration: underline;
        }

        main {
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }

        .info-section {
            background-color: #f4f4f4;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .info-section h4 {
            margin-bottom: 10px;
            font-size: 18px;
        }

        .info-text {
            font-size: 14px;
            margin-bottom: 10px;
        }

        footer {
            background-color: #007BFF;
            color: #fff;
            padding: 10px;
            text-align: center;
            margin-top: 40px;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span style="color: #FFDD57;">H</span>E<span style="color: #FFDD57;">H</span>P
            <span class="subtext">하드웨어 임베디드 해킹 플랫폼</span>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">홈</a></li>
                <li><a href="update.html">펌웨어 업데이트</a></li>
                <li><a href="help.html">도움말</a></li>
                <li><a href="freeboard.html">자유게시판</a></li>
                <li><a href="question.html">문제</a></li>
                <li><a href="background.html">배경지식</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section class="info-section">
            <p class="info-text">1. MQTT는 5가지 용어만 알고있으면 된다!(브로커/broker, 발행/publish, 구독/subscribe, 토픽/topic, 페이로드/payload)</p>
            <p class="info-text">2. A,B,C 3개의 MQTT클라이언트 단말이 있을때 A가 "ABC"라는 topic으로 브로커에게 발행을할때 B가 "ABC"라는 토픽을 구독신청해놓았다면 B가 A가 보낸 payload를 수신하게 된다! 그리고 A가 "DEF"라는 토픽에 payload를 담아서 브로커에게 전송하면 C가 "DEF"라는 토픽을 구독신청 해놓았을때 C가 수신하게 된다! 그리고 B와 C가 "123"이라는 토픽을 둘 다 구독신청해놓은 상태일 때 A가 "123"이라는 토픽으로 발행하게 되면 둘 다 동시에 받게 된다!</p>
            <p class="info-text">3. ESP32에 MQTT를 적용하기 위해서는 pubsubclient 라이브러리가 필요하다!</p>
            <p class="info-text">4. MQTT에 사용하는 서버도 내가 직접 구현할 수 있으면 구현하는 게 좋다! 그러나 브로커를 내가 직접 설치하지 않고 외국에서 무료로 서비스하는 MQTT브로커를 활용하도록 하겠다! 그리고 그 브로커의 주소가 broker.mqtt-dashboard.com 이것이다!</p>
            <p class="info-text">5. MQTT에서 구독(subscribe) 신청은 ESP32가 MQTT서버에게 신청을 통해서 가능한 것이고 ESP32가 MQTT서버에 접속한 다음 구독등록을 해야한다! (접속이 완료된 후 구독신청을 하는 것)</p>
            <p class="info-text">6. 접속이 끊어졌을 때 끊어지기 직전에 신청해놓은 구독TOPIC은 무효이다! 재접속을 하면 구독신청을 새로 해야 한다! 서버 입장에서는 재접속한 클라이언트는 직전에 연결되어있던 클라이언트와 서로 다른 녀석이다!</p>
            <p class="info-text">7. 현재 스마트폰에 들어갈 MQTT앱은 우리가 직접 구현이 불가능하기 때문에 앱스토어에서 가장 대표적인 MyMQTT라는 이름의 어플을 사용한다.</p>
            <p class="info-text">8. 특별하지 않으면 MQTT는 문자열단위로 데이터를 주고받는다!</p>
            <p class="info-text">9. MQTT수신부에 payload가 byte배열이기 때문에 배열의 문법을 따라야 한다!</p>
            <p class="info-text">10. MQTT에 client.publish 함수의 payload 부분은 char 배열(char*)이 들어가야 한다!</p>
            <p class="info-text">11. 아두이노의 String하고 char*은 서로 다른 것이다!</p>
            <p class="info-text">12. String을 char*로 바꾸는 함수가 있다! (.c_str())</p>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 하드웨어 임베디드 해킹 플랫폼</p>
    </footer>
</body>
</html>
